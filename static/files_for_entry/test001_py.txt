@app.route('/insert', methods=['POST', 'GET'])
def insert_data():
    if request.method == 'POST':
        code_content = None
        # Check if the textarea is filled
        if 'code' in request.form:
            code_content = request.form['code']
        # Check if a file is uploaded
        elif 'code_file' in request.files:
            code_file = request.files['code_file']
            if code_file.filename != '':
                code_content = code_file.read().decode('utf-8')
        # If neither textarea nor file is provided
        if code_content is None:
            return 'Error: No code provided'
        
        filename = str(uuid.uuid4())  # Generate UUID as filename
        directory = UPLOAD_FOLDER
        file_path = os.path.join(directory, filename)
        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(code_content)
        insert_text_file(DB_FILE_PATH, filename, directory, code_content)
        return redirect(url_for('index'))
    return render_template('index.html')